# search_engine
### Финальная работа курса «Разработчик на C++ с нуля
Програ мма для локального текстового поиска по файлам.
## Описание проекта
### Задача
Разработать текстовый поисковый движок по локальным файлам.

##### Примечания
- Содержимое локальных файлов и строк поисковых запросов ограничено латиницей в нижнем регистре, без цифр и знаков пунктуации.

### Реализованные классы

    - ConverterJSON – класс для работы с JSON-файлами;
    - InvertedIndex – класс для индексации файлов;
    - SearchServer – класс для обработки поисковых запросов.

## Используемые библиотеки
- [STL] – C++ standard template library;
- [JsonCpp] – C++ library that allows manipulating JSON values;
- [GoogleTest] – C++ testing and mocking framework.

## Установка и запуск
__Важно! Работа программы протестирована только под управлением ОС Windows!__
1. Распакуйте архив.
2. Перейдите в директорию проекта, создайте в ней директорию "build".
3. Перейдите в созданную директорию, запустите в ней терминал Windows (Контекстное меню -> «Открыть в терминале»).
4. В терминале выполните команду: ```cmake ..```.
6. В терминале выполните команду: ```cmake --build .```.
7. Дождитесь завершения выполнения команды.
9. В терминале выполните команду: ```cd .\путь к search_engine.exe\```.
10. В терминале выполните команду для запуска программы: ```search_engine.exe```.
11. Дождитесь завершения работы программы. Вы увидите в терминале сообщение: ```Starting "search_engine"```.
12. Для вывода результата работы программы: ```type .\answers.json```.

##### Примечания
- Программа использует CLI для вывода результата, но не предполагает взаимодействия с пользователем.
- Текстовые данные должны состоять только из слов, написанных строчными латинскими буквами и разделенных пробелами.
- Для валидации и форматирования полученного вывода может быть использован онлайн-сервис [jsonlint].
- Содержимое папки Resources и файла requests.json служит для примера работы программы. Редактируйте их в соответствии с собственной потребностью.

## Приложения к проекту
### Приложение 1. Требования к конфигурационному файлу
Пример конфигурационного файла в формате JSON:
```
{
    "config": {
        "name": "searcр_engine",
        "version": "0.1.0",
        "max_responses": 5,
        "answers": "answers.json",
        "requests": "requests.json"
    },
    "files": [
        "./resources/file001.txt",
        "./resources/file002.txt",
    ]
}
```
### Приложение 2. Требования к файлу со списком запросов
Файл со списком запросов в формате JSON должен иметь следующий вид.
```
{
    "requests": [
        "third rome",
        "moscow is the capital of russia",
        "abracaddabra",
        "rome"
    ]
}
```
### Приложение 3. Формула расчета относительной релевантности
Относительная релевантность найденного документа должна рассчитываться по следующей формуле.
```
R(отн) = R(абс) / n
```
где
- _R(отн)_ – относительная релевантность;
- _R(абс)_ – максимальная абсолютная релевантность среди найденных документов;
- _n_ – количество найденных документов.

### Приложение 4. Требования к файлу с ответами
Файл со списком ответов в формате JSON должен иметь следующий вид.
```
{
    "answers": {
        "request001": {
            "result": "true",
            "relevance": [
                {
                    "docid": 0,
                    "rank": 0.989
                },
                {
                    "docid": 1,
                    "rank": 0.897
                },
                {
                    "docid": 2,
                    "rank": 0.75
                },
                {
                    "docid": 3,
                    "rank": 0.67
                },
                {
                    "docid": 4,
                    "rank": 0.561
                }
            ]
        },
        "request002": {
            "result": "true",
            "docid": 0,
            "rank": 0.769
        },
        "request003": {
            "result": "false"
        }
    }
}